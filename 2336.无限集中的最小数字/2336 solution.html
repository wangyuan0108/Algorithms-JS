<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <script>
      // 方法一：有序集合
      // 时间复杂度：O(1)
      // 空间复杂度：O(n)
      var SmallestInfiniteSet = function () {
        this.thres = 1;
        this.s = new Set();
        this.pq = new MinPriorityQueue();
      };

      SmallestInfiniteSet.prototype.popSmallest = function () {
        let ans = 0;
        if (this.s.size == 0) {
          ans = this.thres;
          this.thres++;
          return ans;
        }
        ans = this.pq.dequeue().element;
        this.s.delete(ans);
        return ans;
      };

      SmallestInfiniteSet.prototype.addBack = function (num) {
        if (num < this.thres && !this.s.has(num)) {
          this.s.add(num);
          this.pq.enqueue(num);
        }
      };
    </script>
  </body>
</html>
